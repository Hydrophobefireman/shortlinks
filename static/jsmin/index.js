function isAValidURL(e){try{return!!new URL(e)}catch(e){return!1}}function urlencode(e){return`${Object.keys(e).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`).join("&")}`}const inp=document.getElementById("input_n"),btn=document.getElementById("btn_s"),errs=document.getElementById("errors"),result=document.getElementById("result");inp.onkeydown=(e=>{13===e.keyCode&&btn.click()}),btn.onclick=(async()=>{errs.innerHTML="";const e=inp.value;if(0===e.length||!isAValidURL(e))return errs.textContent="An Error Occured..please check the URL";{const n=urlencode({url:e});errs.textContent="loading";const t=await fetch("/api/",{credentials:"include",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},body:n}),r=await t.json();errs.textContent="",r.error&&(result.textContent="An Error Occured..please check your input"),result.innerHTML=`Shortened URL:<a href="${r.data}">${r.data}</a>`}});